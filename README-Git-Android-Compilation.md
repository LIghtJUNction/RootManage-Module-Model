# Git Android ç¼–è¯‘è„šæœ¬ v4.0 å®Œæ•´ç‰ˆ

è¿™æ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„Android Gitç¼–è¯‘è„šæœ¬ï¼Œæ”¯æŒå¤šç§ç¼–è¯‘ç¯å¢ƒå’Œæ¨¡å¼ï¼Œèƒ½å¤Ÿä¸ºAndroidè®¾å¤‡ç”Ÿæˆå®Œå…¨å…¼å®¹çš„GitäºŒè¿›åˆ¶æ–‡ä»¶ã€‚

## ğŸš€ ä¸»è¦ç‰¹æ€§

### æ”¯æŒçš„ç¼–è¯‘ç¯å¢ƒ
- **Termux** - Androidç»ˆç«¯æ¨¡æ‹Ÿå™¨ï¼Œæœ¬æœºç¼–è¯‘
- **AndroidåŸç”Ÿ** - åœ¨Androidç³»ç»Ÿä¸­ç›´æ¥ç¼–è¯‘ï¼ˆéœ€è¦rootï¼‰
- **Linuxäº¤å‰ç¼–è¯‘** - åœ¨Linuxç³»ç»Ÿä¸Šäº¤å‰ç¼–è¯‘ARM64ç‰ˆæœ¬
- **WSL/WSL2** - Windowså­ç³»ç»ŸLinuxç¯å¢ƒ
- **Android NDK** - ä½¿ç”¨Android NDKå·¥å…·é“¾ç¼–è¯‘

### ç¼–è¯‘æ¨¡å¼
1. **Termuxæœ¬æœºç¼–è¯‘** - æ¨èï¼Œåœ¨Termuxä¸­ç›´æ¥ç¼–è¯‘
2. **é™æ€ç¼–è¯‘** - ç”Ÿæˆæ— ä¾èµ–çš„é™æ€é“¾æ¥ç‰ˆæœ¬
3. **NDKåŠ¨æ€ç¼–è¯‘** - ä½¿ç”¨Android NDKç¼–è¯‘
4. **æœ€å°åŒ–ç¼–è¯‘** - ç²¾ç®€ç‰ˆæœ¬ï¼Œç¦ç”¨éƒ¨åˆ†åŠŸèƒ½
5. **è‡ªåŠ¨æ¨¡å¼** - æ™ºèƒ½æ£€æµ‹ç¯å¢ƒå¹¶é€‰æ‹©æœ€ä½³ç¼–è¯‘æ–¹å¼

### å¼ºå¤§çš„åŠŸèƒ½
- ğŸ”§ **æ™ºèƒ½ä¾èµ–ç®¡ç†** - è‡ªåŠ¨ç¼–è¯‘OpenSSLã€zlibã€curlã€expatç­‰ARM64ä¾èµ–åº“
- ğŸ› ï¸ **å¤šåŒ…ç®¡ç†å™¨æ”¯æŒ** - æ”¯æŒaptã€yumã€pacmanç­‰åŒ…ç®¡ç†å™¨
- ğŸ“Š **è¿›åº¦è¿½è¸ª** - å¯è§†åŒ–ç¼–è¯‘è¿›åº¦å’Œæ­¥éª¤çŠ¶æ€
- ğŸ”„ **æ–­ç‚¹ç»­ç¼–** - æ”¯æŒä»ä¸­æ–­çš„åœ°æ–¹ç»§ç»­ç¼–è¯‘
- âœ… **å®Œæ•´æµ‹è¯•** - 7é¡¹åŠŸèƒ½æµ‹è¯•ç¡®ä¿ç¼–è¯‘è´¨é‡
- ğŸ“¦ **å®‰è£…è„šæœ¬** - è‡ªåŠ¨ç”ŸæˆAndroidå®‰è£…è„šæœ¬
- ğŸ“‹ **è¯¦ç»†æ—¥å¿—** - å®Œæ•´çš„ç¼–è¯‘æ—¥å¿—å’Œé”™è¯¯è¯Šæ–­

## ğŸ“‹ ç¯å¢ƒè¦æ±‚

### Termuxç¯å¢ƒ
```bash
pkg update
pkg install git clang make autoconf automake libtool pkg-config gettext curl openssl zlib expat
```

### Linuxäº¤å‰ç¼–è¯‘ç¯å¢ƒ
```bash
# Ubuntu/Debian
sudo apt-get install gcc-aarch64-linux-gnu build-essential autoconf automake libtool make pkg-config gettext git wget curl cmake python3 libssl-dev zlib1g-dev libexpat1-dev

# CentOS/RHEL
sudo yum groupinstall "Development Tools"
sudo yum install gcc-aarch64-linux-gnu autoconf automake libtool make pkg-config gettext git wget curl cmake python3 openssl-devel zlib-devel expat-devel

# Arch Linux
sudo pacman -S base-devel aarch64-linux-gnu-gcc autoconf automake libtool make pkg-config gettext git wget curl cmake python openssl zlib expat
```

### Android NDKç¯å¢ƒ
1. ä¸‹è½½Android NDK: https://developer.android.com/ndk/downloads
2. è§£å‹åˆ°å½“å‰ç›®å½•æˆ–è®¾ç½®ç¯å¢ƒå˜é‡ï¼š
   ```bash
   export ANDROID_NDK_HOME=/path/to/android-ndk-rXX
   ```

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### åŸºæœ¬ä½¿ç”¨
```bash
# ä¸‹è½½è„šæœ¬
wget https://raw.githubusercontent.com/your-repo/compile_git_android.sh
chmod +x compile_git_android.sh

# äº¤äº’å¼ç¼–è¯‘ï¼ˆæ¨èï¼‰
./compile_git_android.sh

# è‡ªåŠ¨é€‰æ‹©æœ€ä½³æ¨¡å¼
./compile_git_android.sh auto

# æ˜¾ç¤ºå¸®åŠ©
./compile_git_android.sh help
```

### é«˜çº§åŠŸèƒ½
```bash
# æ–­ç‚¹ç»­ç¼–
./compile_git_android.sh resume

# æ¸…ç†æ„å»ºæ–‡ä»¶
./compile_git_android.sh clean
```

## ğŸ“– ç¼–è¯‘æµç¨‹è¯¦è§£

### 1. ç¯å¢ƒæ£€æµ‹å’Œæ¨¡å¼é€‰æ‹©
è„šæœ¬ä¼šè‡ªåŠ¨æ£€æµ‹è¿è¡Œç¯å¢ƒï¼š
- æ£€æŸ¥æ˜¯å¦åœ¨Termuxã€AndroidåŸç”Ÿã€WSLæˆ–Linuxç¯å¢ƒ
- æ£€æµ‹å¯ç”¨çš„ç¼–è¯‘å·¥å…·å’ŒNDK
- æ ¹æ®ç¯å¢ƒæ™ºèƒ½æ¨èæœ€ä½³ç¼–è¯‘æ¨¡å¼

### 2. ä¾èµ–å®‰è£…
- æ ¹æ®ä¸åŒç¯å¢ƒå®‰è£…å¿…è¦çš„ç¼–è¯‘å·¥å…·
- æ”¯æŒå¤šç§åŒ…ç®¡ç†å™¨ï¼ˆaptã€yumã€pacmanã€pkgï¼‰
- æ£€æŸ¥å¹¶å®‰è£…äº¤å‰ç¼–è¯‘å·¥å…·é“¾

### 3. ARM64ä¾èµ–åº“ç¼–è¯‘
æ‰€æœ‰ä¾èµ–åº“éƒ½ä½¿ç”¨NDKå·¥å…·é“¾ç¼–è¯‘ï¼Œç¡®ä¿ARM64å…¼å®¹æ€§ï¼š
- **zlib** - æ•°æ®å‹ç¼©åº“
- **OpenSSL** - åŠ å¯†å’ŒSSL/TLSæ”¯æŒ
- **curl** - HTTP/HTTPSä¼ è¾“æ”¯æŒ
- **expat** - XMLè§£ææ”¯æŒ

### 4. Gitæºç è·å–
- æ”¯æŒå¤šä¸ªé•œåƒæºï¼ˆGiteeã€GitHubã€Kernel.orgç­‰ï¼‰
- è‡ªåŠ¨é‡è¯•å’Œé”™è¯¯æ¢å¤
- æºç å®Œæ•´æ€§éªŒè¯

### 5. æ„å»ºé…ç½®
- æ™ºèƒ½åº“æ£€æµ‹å’Œé…ç½®
- æ ¹æ®ç¼–è¯‘æ¨¡å¼ä¼˜åŒ–configureå‚æ•°
- è¯¦ç»†çš„é…ç½®æ‘˜è¦æ˜¾ç¤º

### 6. ç¼–è¯‘å’Œæµ‹è¯•
- å¹¶è¡Œç¼–è¯‘æé«˜é€Ÿåº¦
- å®Œæ•´çš„åŠŸèƒ½æµ‹è¯•å¥—ä»¶
- äºŒè¿›åˆ¶æ–‡ä»¶æ¶æ„éªŒè¯

### 7. å®‰è£…åŒ…åˆ›å»º
- ç”Ÿæˆtar.gzå®‰è£…åŒ…
- åˆ›å»ºæ™ºèƒ½å®‰è£…è„šæœ¬
- åŒ…å«æ‰€æœ‰ARM64ä¾èµ–åº“

## ğŸ“¦ è¾“å‡ºæ–‡ä»¶è¯´æ˜

ç¼–è¯‘å®Œæˆåä¼šç”Ÿæˆä»¥ä¸‹æ–‡ä»¶ï¼š

### å®‰è£…åŒ…
- `git-android-{version}-{mode}-{date}.tar.gz` - ä¸»å®‰è£…åŒ…

### å®‰è£…è„šæœ¬
- `install_git_android.sh` - å®Œæ•´å®‰è£…è„šæœ¬ï¼ˆæ¨èï¼‰
- `quick_install.sh` - å¿«é€Ÿå®‰è£…è„šæœ¬

### ä¿¡æ¯æ–‡ä»¶
- `git-source-info.txt` - Gitæºç ä¿¡æ¯
- `DEPENDENCIES_INFO.txt` - ARM64ä¾èµ–åº“ä¿¡æ¯
- `compile.log` - å®Œæ•´ç¼–è¯‘æ—¥å¿—

## ğŸ”§ Androidå®‰è£…è¯´æ˜

### æ–¹æ³•1ï¼šä½¿ç”¨å®Œæ•´å®‰è£…è„šæœ¬ï¼ˆæ¨èï¼‰
```bash
# å°†å®‰è£…åŒ…å¤åˆ¶åˆ°Androidè®¾å¤‡
adb push git-android-*.tar.gz /data/local/tmp/
adb push install_git_android.sh /data/local/tmp/

# åœ¨Androidè®¾å¤‡ä¸Šå®‰è£…
adb shell
cd /data/local/tmp
tar -xzf git-android-*.tar.gz
su  # è·å–rootæƒé™
./install_git_android.sh
```

### æ–¹æ³•2ï¼šå¿«é€Ÿå®‰è£…
```bash
# è§£å‹å¹¶è¿è¡Œå¿«é€Ÿå®‰è£…
tar -xzf git-android-*.tar.gz
su
./quick_install.sh
```

### æ–¹æ³•3ï¼šTermuxå®‰è£…
å¦‚æœæ˜¯Termuxç¼–è¯‘çš„ç‰ˆæœ¬ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ï¼š
```bash
tar -xzf git-android-*.tar.gz -C $PREFIX/
```

## ğŸ› æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

#### 1. NDKç¼–è¯‘å™¨æ‰¾ä¸åˆ°
**é”™è¯¯**: `NDKç¼–è¯‘å™¨ä¸å­˜åœ¨`
**è§£å†³**: 
- æ£€æŸ¥ANDROID_NDK_HOMEç¯å¢ƒå˜é‡
- ç¡®ä¿NDKç‰ˆæœ¬æ”¯æŒAPI 21+
- ä¸‹è½½æœ€æ–°NDKç‰ˆæœ¬

#### 2. ä¾èµ–åº“ç¼–è¯‘å¤±è´¥
**é”™è¯¯**: `OpenSSLç¼–è¯‘å¤±è´¥`
**è§£å†³**:
- æ£€æŸ¥ç½‘ç»œè¿æ¥ï¼ˆä¸‹è½½æºç ï¼‰
- ç¡®ä¿æœ‰è¶³å¤Ÿçš„ç£ç›˜ç©ºé—´
- ä½¿ç”¨ `./compile_git_android.sh resume` ç»§ç»­ç¼–è¯‘

#### 3. configureå¤±è´¥
**é”™è¯¯**: `configureå¤±è´¥`
**è§£å†³**:
- æŸ¥çœ‹ `config.log` è·å–è¯¦ç»†é”™è¯¯
- æ£€æŸ¥ç¼–è¯‘å™¨å’Œä¾èµ–åº“è·¯å¾„
- ç¡®ä¿æ‰€æœ‰ä¾èµ–éƒ½æ­£ç¡®å®‰è£…

#### 4. äº¤å‰ç¼–è¯‘å™¨ç¼ºå¤±
**é”™è¯¯**: `äº¤å‰ç¼–è¯‘å™¨ä¸å­˜åœ¨`
**è§£å†³**:
```bash
# Ubuntu/Debian
sudo apt-get install gcc-aarch64-linux-gnu

# CentOS/RHEL  
sudo yum install gcc-aarch64-linux-gnu

# Arch Linux
sudo pacman -S aarch64-linux-gnu-gcc
```

### è°ƒè¯•æŠ€å·§

1. **æŸ¥çœ‹è¯¦ç»†æ—¥å¿—**:
   ```bash
   tail -f android-git-build/compile.log
   ```

2. **æ£€æŸ¥ç¼–è¯‘çŠ¶æ€**:
   ```bash
   cat android-git-build/.build_state
   ```

3. **æ‰‹åŠ¨éªŒè¯ä¾èµ–**:
   ```bash
   file android-git-build/deps/lib/*.a
   ```

4. **æµ‹è¯•ç¼–è¯‘çš„Git**:
   ```bash
   ./android-git-build/git-android/bin/git --version
   ```

## ğŸ”§ é«˜çº§é…ç½®

### è‡ªå®šä¹‰ç¼–è¯‘é€‰é¡¹
å¯ä»¥é€šè¿‡ä¿®æ”¹è„šæœ¬ä¸­çš„configureå‚æ•°æ¥è‡ªå®šä¹‰ç¼–è¯‘ï¼š
- æ·»åŠ æˆ–ç§»é™¤åŠŸèƒ½æ¨¡å—
- ä¿®æ”¹å®‰è£…è·¯å¾„
- è°ƒæ•´ä¼˜åŒ–çº§åˆ«

### æ”¯æŒæ–°çš„ç¯å¢ƒ
è„šæœ¬ç»“æ„åŒ–è®¾è®¡ï¼Œæ˜“äºæ‰©å±•ï¼š
- æ·»åŠ æ–°çš„ç¯å¢ƒæ£€æµ‹
- å®ç°æ–°çš„ç¼–è¯‘æ¨¡å¼
- æ”¯æŒæ–°çš„åŒ…ç®¡ç†å™¨

## ğŸ“Š æ€§èƒ½æ•°æ®

### ç¼–è¯‘æ—¶é—´ï¼ˆå‚è€ƒï¼‰
- **Termux (8æ ¸ARM64)**: ~15-20åˆ†é’Ÿ
- **Linuxäº¤å‰ç¼–è¯‘ (8æ ¸x64)**: ~10-15åˆ†é’Ÿ
- **WSL2 (4æ ¸)**: ~20-25åˆ†é’Ÿ

### å®‰è£…åŒ…å¤§å°
- **å®Œæ•´ç‰ˆ**: ~8-12MB
- **æœ€å°åŒ–ç‰ˆ**: ~4-6MB
- **ä¾èµ–åº“**: ~3-5MB

## ğŸ¤ è´¡çŒ®å’Œæ”¯æŒ

### è´¡çŒ®æŒ‡å—
æ¬¢è¿æäº¤Issueå’ŒPull Requestï¼š
- BugæŠ¥å‘Š
- åŠŸèƒ½å»ºè®®
- ä»£ç æ”¹è¿›
- æ–‡æ¡£å®Œå–„

### è·å–æ”¯æŒ
å¦‚é‡é—®é¢˜ï¼Œè¯·æä¾›ï¼š
- è¿è¡Œç¯å¢ƒä¿¡æ¯
- ç¼–è¯‘æ—¥å¿—
- é”™è¯¯ä¿¡æ¯
- å¤ç°æ­¥éª¤

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®éµå¾ªGPL-2.0è®¸å¯è¯ï¼Œä¸Gité¡¹ç›®ä¿æŒä¸€è‡´ã€‚

## ğŸ”„ æ›´æ–°å†å²

### v4.0 (å½“å‰ç‰ˆæœ¬)
- âœ… å®Œæ•´çš„ARM64ä¾èµ–åº“ç¼–è¯‘æ”¯æŒ
- âœ… æ™ºèƒ½ç¯å¢ƒæ£€æµ‹å’Œæ¨¡å¼é€‰æ‹©
- âœ… æ–­ç‚¹ç»­ç¼–åŠŸèƒ½
- âœ… å®Œæ•´çš„æµ‹è¯•å¥—ä»¶
- âœ… å¤šåŒ…ç®¡ç†å™¨æ”¯æŒ
- âœ… å¢å¼ºçš„é”™è¯¯å¤„ç†å’Œæ¢å¤

### v3.x
- åŸºç¡€çš„äº¤å‰ç¼–è¯‘æ”¯æŒ
- ç®€å•çš„ä¾èµ–ç®¡ç†

### v2.x  
- Termuxç¼–è¯‘æ”¯æŒ
- åŸºç¡€åŠŸèƒ½å®ç°

### v1.x
- åˆå§‹ç‰ˆæœ¬
- åŸºæœ¬ç¼–è¯‘åŠŸèƒ½

---

**æ³¨æ„**: ç¡®ä¿åœ¨ç¼–è¯‘å‰é˜…è¯»å®Œæ•´æ–‡æ¡£ï¼Œç‰¹åˆ«æ˜¯ç¯å¢ƒè¦æ±‚å’Œæ•…éšœæ’é™¤éƒ¨åˆ†ã€‚å¦‚æœ‰é—®é¢˜ï¼Œè¯·æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶è·å–è¯¦ç»†ä¿¡æ¯ã€‚
